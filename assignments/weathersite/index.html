<!doctype html>
<html lang="en-us">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>The Weather Wizard - Home</title>

    <meta name="author" content="Marlene Trujillo">
    <meta name="description" content="page description placeholder">

    <!-- external style references in the proper cascading order -->

    <!-- Google API font reference -->

    <link href="http://fonts.googleapis.com/css?family=Ramaraja" rel="stylesheet" type="text/css">

    <link href="https://fonts.googleapis.com/css?family=Almendra" rel="stylesheet" type="text/css">


    <link href="styles/normalize.css" rel="stylesheet">
    <!-- normalize useragent/browser defaults -->

    <link href="styles/main.css" rel="stylesheet">
    <!-- default styles - small/phone views -->

    <link href="styles/medium.css" rel="stylesheet">
    <!-- medium/tablet views -->

    <link href="styles/large.css" rel="stylesheet">
    <!-- large/wide/desktop views -->

    <style type="text/css" media="screen">
        <SCRIPT LANGUAGE="JavaScript">

    </style>

</head>

<body>

    <header>
        <div>
            <img src="images/franklin-logo-final.png" width="200" alt="Logo image">
        </div>
        <div>
            <h1>The Weather Wizard</h1>
            <div class="subheading">Bringing you the Magic of Forecast.</div>
        </div>
    </header>


    <nav class="clearfix" class="container">

        <button onclick="toggleMenu()">&#9776;</button>

        <ul id="nav-ul" class="hide-nav">
            <li class="navItem"><a href="index.html">Home</a></li>
            <li class="navItem"><a href="franklin.html">Franklin</a></li>
            <li class="navItem"><a href="springfield.html">Springfield</a></li>
            <li class="navItem"><a href="greenville.html">Greenville</a></li>
            <li class="navItem"><a href="stormcenter.html">Storm Center</a></li>
            <li class="navItem"><a href="gallery.html">Gallery</a></li>
        </ul>

    </nav>

    <main>

        <div class="new">
            <h2>General Information</h2>
        </div>

        <section>

        </section>

        <h2>"Spring Forward" This Weekend</h2>

        <p>
            Most of the country will begin Daylight Time Shifting on Sunday at 2:00 a.m., so remember to "Spring Forward" before going to bed on Saturday, by making sure your clocks spring forward from 2:00 a.m. to 3:00 a.m. We will lose an hour of sleep on Sunday, so ensure to update your alarms.<br> Also, a kind reminder from the fire department, it is recommended to change the batteries in your smoke detectors and to provide the safety that a working smoke detector gives to your family: more than double the chances or surviving a fire.
        </p>

        <figure class="index">
            <img src="images/timeforward.jpeg" alt="Spring Time Forward" class="responsive" class="center">
            <figcaption>Photo credit: pexels.com</figcaption>
        </figure>


        <script>
            var section = document.querySelector('section');
            var requestURL = 'https://raw.githubusercontent.com/byui-cit230/weather/master/towndata.json';
            var request = new XMLHttpRequest();
            request.open('GET', requestURL);
            request.responseType = 'json';
            request.send();

            request.onload = function() {
                var townData = request.response;
                showTowns(townData);
            }

            function showTowns(jsonObj) {
                var towns = jsonObj.towns;

                for (var i = 0; i < towns.length; i++) {

                    if (towns[i].name != "Placerton") {

                        var myArticle = document.createElement('article');
                        var myH2 = document.createElement('h2');
                        var motto = document.createElement('h4');
                        var mottoTown = document.createElement('i');
                        var year = document.createElement('p');
                        var population = document.createElement('p');
                        var avgRainfall = document.createElement('p');
                        var events = document.createElement('ul');

                        myH2.textContent = towns[i].name;
                        mottoTown.textContent = towns[i].motto;
                        year.textContent = 'Founded: ' + towns[i].yearFounded;
                        population.textContent = 'Population: ' + towns[i].currentPopulation;
                        avgRainfall.textContent = 'Average Rainfall: ' + towns[i].averageRainfall + ' inches';

                        var events1 = document.createElement('h3');
                        events1.textContent = 'Events:';

                        var events2 = towns[i].events;

                        for (var j = 0; j < events2.length; j++) {
                            var event = document.createElement('li');
                            event.textContent = events2[j];

                            events.appendChild(event);
                        }

                        myArticle.appendChild(myH2);
                        motto.appendChild(mottoTown);
                        myArticle.appendChild(motto);
                        myArticle.appendChild(year);
                        myArticle.appendChild(population);
                        myArticle.appendChild(avgRainfall);
                        myArticle.appendChild(events1);

                        myArticle.appendChild(events);

                        section.appendChild(myArticle);

                    }
                }

            }

        </script>

    </main>

    <footer>

        <aside>
            <b>The Weather Wizard</b><br> 123 Main St.<br> Franklin, MN 55333<br> (507) 999-9999 <br> contact@theurl.com
            <br>
        </aside>

        <p class="footer-bar">&copy;2017 All Rights Reserved | The Weather Wizard | <a href="https://www.contractology.com/free-website-terms-and-conditions.html">Terms of Use</a> | <span id='date'></span>
        </p>


    </footer>

    <script src="scripts/hamburger.js"></script>

    <script src="scripts/current-date.js"></script>

    <script src="scripts/windchill.js"></script>

    <!--    <script src="scripts/town-info.js"></script>-->

    <script>
        var urlString, urlArray, pageHREF, menu, i, currentURL;
        urlString = document.location.href;
        urlArray = urlString.split('/');
        pageHREF = urlArray[urlArray.length - 1];
        if (pageHREF !== "") {
            menu = document.querySelectorAll('ul#nav-ul li a');
            for (i = 0; i < menu.length; i++) {
                currentURL = (menu[i].getAttribute('href'));
                menu[i].parentNode.className = '';
                if (currentURL === pageHREF) {
                    menu[i].parentNode.className = 'active';
                }
            }
        }

    </script>

</body>

</html>
